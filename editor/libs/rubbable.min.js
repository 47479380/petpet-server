!function(a,b){"function"==typeof define&&define.amd?define(["./libgif"],b):"object"==typeof exports?module.exports=b(require("./libgif")):a.RubbableGif=b(a.SuperGif)}(this,function(a){var b=function(b){var c=new a(b),d=function(){var a=function(a){return b.vp_l?a-b.vp_l:a},d=c.get_canvas(),f=b.vp_w?b.vp_w:d.width,g=Math.floor(f/(2*c.get_length())),h=0,i=0,j="ontouchend"in document,k=0,l=0;d.addEventListener(j?"touchstart":"mousedown",function(b){var d,e,g;b.preventDefault(),c.get_auto_play()&&c.pause(),d=b.touches&&b.touches.length>0?b.touches[0]:b,e=d.layerX>0?a(d.layerX):f/2,g=e/f,c.move_to(Math.floor(g*(c.get_length()-1))),i=b.timeStamp,h=a(d.pageX)}),d.addEventListener(j?"touchend":"mouseup",function(){i=0,h=0,c.get_auto_play()&&c.play()}),d.addEventListener(j?"touchmove":"mousemove",function(b){var d,e;b.preventDefault(),d=b.touches&&b.touches.length>0?b.touches[0]:b,e=a(d.pageX),currentDistance=0===h?0:Math.abs(e-h),currentTime=b.timeStamp,0!==i&&currentDistance>g&&(h>e&&c.get_current_frame()>0&&c.move_relative(-1),e>h&&c.get_current_frame()<c.get_length()-1&&c.move_relative(1),i=b.timeStamp,h=a(d.pageX)),b.timeStamp-l,k++,document.getElementById("tickles"+(k%5+1))&&document.getElementById("tickles"+(k%5+1)).play(),l=b.timeStamp})};return c.orig_load=c.load,c.load=function(a){c.orig_load(function(){a&&a(),d(c)})},c};return b});